[package]
name = "swagger"
version = "7.0.0-rc1"
authors = ["Metaswitch Networks Ltd"]
license = "Apache-2.0"
description = "A set of common utilities for Rust code generated by OpenAPI Generator"
homepage = "https://github.com/Metaswitch/swagger-rs"
repository = "https://github.com/Metaswitch/swagger-rs"
readme = "README.md"
keywords = ["swagger"]
edition = "2021"

[badges.travis-ci]
repository = "Metaswitch/swagger-rs"

[features]
default = ["serdejson"]
multipart_form = ["mime"]
multipart_related = ["mime_multipart"]
serdejson = ["serde", "serde_json"]
serdevalid = ["serdejson", "serde_valid", "regex", "paste"]
server = ["hyper/server"]
http1 = ["hyper/http1"]
http2 = ["hyper/http2"]
client = ["hyper/client", "hyper-util"]
tls = ["native-tls", "openssl", "hyper-openssl", "hyper-tls"]
uds = ["tokio", "tokio/net"]
conversion = [
    "frunk",
    "frunk_derives",
    "frunk_core",
    "frunk-enum-core",
    "frunk-enum-derive"
]

[dependencies]
base64 = "0.22"

# Conversion
frunk = { version = "0.4", optional = true }
frunk-enum-core = { version = "0.3", optional = true }
frunk-enum-derive = { version = "0.3", optional = true }
frunk_core = { version = "0.4", optional = true }
frunk_derives = { version = "0.4", optional = true }
futures = "0.3"
headers = "0.4.0"
hyper = { version = "1" }

# Client
hyper-util = { version = "0.1.8", features = [
    "client",
    "client-legacy",
], optional = true }

# multipart/form-data
mime = { version = "0.3", optional = true }

# multipart/related
mime_multipart = { version = "0.6", optional = true }
paste = { version = "1", optional = true }
regex = { version = "1", optional = true }
serde = { version = "1.0.119", optional = true, features = ["derive"] }
serde_json = { version = "1.0", optional = true }
serde_valid = { version = "0.25", optional = true }

# UDS (Unix Domain Sockets)
tokio = { version = "1.0", default-features = false, optional = true }
uuid = { version = "1", features = ["serde", "v4"] }
zeroize = { version = "1.8.1", features = ["zeroize_derive"] }

[target.'cfg(not(any(target_os = "macos", target_os = "windows", target_os = "ios")))'.dependencies]
hyper-openssl = { version = "0.10.0", optional = true, features = [
    "client-legacy",
    "tokio",
] }
openssl = { version = "0.10.28", optional = true }

[target.'cfg(any(target_os = "macos", target_os = "windows", target_os = "ios"))'.dependencies]
hyper-tls = { version = "0.6", optional = true }
native-tls = { version = "0.2", optional = true }

[dev-dependencies]
bytes = "1.8.0"
http-body-util = "0.1.2"
hyper-util = { version = "0.1.8", features = ["full"] }
hyper_10 = { package = "hyper", version = "0.10" }
mime_026 = { package = "mime", version = "0.2.6" }
tokio = { version = "1.0", features = ["macros", "rt"] }
tokio-test = "0.4.4"

[package.metadata.docs.rs]
# Enable all features, pending https://github.com/rust-lang/rust/issues/43781 being resolved.
all-features = true
rustdoc-args = ["--cfg", "docsrs"]
